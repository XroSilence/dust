{"version":3,"file":"AdminLogin-D4CZ2POk.js","sources":["../../src/pages/admin/AdminLogin.jsx"],"sourcesContent":["// src/pages/admin/AdminLogin.jsx\r\nimport React, { useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport ReCAPTCHA from 'react-google-recaptcha';\r\n\r\nexport function AdminLogin() {\r\n    const [credentials, setCredentials] = useState({ username: '', password: '' });\r\n    const [captchaToken, setCaptchaToken] = useState(null);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(localStorage.getItem('adminToken'));\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        if (!captchaToken) {\r\n            alert('Please complete the CAPTCHA');\r\n            return;\r\n        }\r\n\r\n        if (\r\n            credentials.username === import.meta.env.VITE_ADMIN_USERNAME &&\r\n            credentials.password === import.meta.env.VITE_ADMIN_PASSWORD\r\n        ) {\r\n            const token = btoa(Date.now().toString());\r\n            localStorage.setItem('adminToken', token);\r\n            setIsLoggedIn(true);\r\n        }\r\n    };\r\n\r\n    if (isLoggedIn) {\r\n        return <Navigate to=\"/admin/setup-2fa\" />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-900\">\r\n            <form onSubmit={handleLogin} className=\"bg-slate-800 p-8 rounded-lg\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    onChange={(e) => setCredentials({ ...credentials, username: e.target.value })}\r\n                    className=\"mb-4 p-2 w-full rounded\"\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    onChange={(e) => setCredentials({ ...credentials, password: e.target.value })}\r\n                    className=\"mb-4 p-2 w-full rounded\"\r\n                />\r\n                <div className=\"mb-4\">\r\n                    <ReCAPTCHA\r\n                        sitekey={import.meta.env.VITE_RECAPTCHA_SITE_KEY}\r\n                        onChange={setCaptchaToken}\r\n                    />\r\n                </div>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-blue-500 p-2 rounded text-white\"\r\n                    disabled={!captchaToken}\r\n                >\r\n                    Login\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminLogin;"],"names":["AdminLogin","credentials","setCredentials","useState","captchaToken","setCaptchaToken","isLoggedIn","setIsLoggedIn","handleLogin","e","token","jsx","Navigate","jsxs","ReCAPTCHA"],"mappings":"8KAKO,SAASA,GAAa,CACnB,KAAA,CAACC,EAAaC,CAAc,EAAIC,EAAA,SAAS,CAAE,SAAU,GAAI,SAAU,GAAI,EACvE,CAACC,EAAcC,CAAe,EAAIF,EAAAA,SAAS,IAAI,EAC/C,CAACG,EAAYC,CAAa,EAAIJ,WAAS,aAAa,QAAQ,YAAY,CAAC,EAEzEK,EAAc,MAAOC,GAAM,CAE7B,GADAA,EAAE,eAAe,EACb,CAACL,EAAc,CACf,MAAM,6BAA6B,EACnC,MAAA,CAIA,GAAAH,EAAY,WAAa,cACzBA,EAAY,WAAa,oCAC3B,CACE,MAAMS,EAAQ,KAAK,KAAK,IAAI,EAAE,UAAU,EAC3B,aAAA,QAAQ,aAAcA,CAAK,EACxCH,EAAc,EAAI,CAAA,CAE1B,EAEA,OAAID,EACQK,EAAA,IAAAC,EAAS,CAAA,GAAG,mBAAmB,EAItCD,EAAA,IAAA,OAAI,UAAU,6DACX,SAACE,EAAAA,KAAA,OAAK,CAAA,SAAUL,EAAa,UAAU,8BACnC,SAAA,CAAAG,EAAA,IAAC,QAAA,CACG,KAAK,OACL,YAAY,WACZ,SAAWF,GAAMP,EAAe,CAAE,GAAGD,EAAa,SAAUQ,EAAE,OAAO,MAAO,EAC5E,UAAU,yBAAA,CACd,EACAE,EAAA,IAAC,QAAA,CACG,KAAK,WACL,YAAY,WACZ,SAAWF,GAAMP,EAAe,CAAE,GAAGD,EAAa,SAAUQ,EAAE,OAAO,MAAO,EAC5E,UAAU,yBAAA,CACd,EACCE,EAAAA,IAAA,MAAI,CAAA,UAAU,OACX,SAAAA,EAAA,IAACG,EAAA,CACG,QAAS,2CACT,SAAUT,CAAA,CAAA,EAElB,EACAM,EAAA,IAAC,SAAA,CACG,KAAK,SACL,UAAU,4CACV,SAAU,CAACP,EACd,SAAA,OAAA,CAAA,CAED,CAAA,CACJ,CAAA,CACJ,CAER"}